# cmake CMakeLists.txt -DCMAKE_TOOLCHAIN_FILE=$(pwd)/tc.cmake
# based on https://github.com/fancycode/MemoryModule/blob/master/CMakeLists.txt

set (CMAKE_SYSTEM_NAME Windows)
set (CMAKE_POSITION_INDEPENDENT_CODE False)
set (PLATFORM "i686" CACHE STRING "Platform to compile for")
set (COMPILER_PREFIX "/usr/bin/${PLATFORM}-w64-mingw32")
set (CMAKE_C_COMPILER "${COMPILER_PREFIX}-gcc")
set (CMAKE_CXX_COMPILER "${COMPILER_PREFIX}-g++")
set (CMAKE_RC_COMPILER "${COMPILER_PREFIX}-windres")
set (CMAKE_AR "${COMPILER_PREFIX}-ar")
set (CMAKE_RANLIB "${COMPILER_PREFIX}-ranlib")
set (CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set (CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set (CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set (CMAKE_SHARED_LIBRARY_LINK_C_FLAGS "")
set (CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS "")
set (CMAKE_RC_COMPILE_OBJECT "${CMAKE_RC_COMPILER} -O coff -I${CMAKE_CURRENT_SOURCE_DIR} <SOURCE> <OBJECT>")
set(CMAKE_EXE_LINKER_FLAGS "-static")
set (CMAKE_SHARED_LIBRARY_LINK_C_FLAGS "-static")
set (CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS "-static")
